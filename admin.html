<!DOCTYPE html>
<html>
<head>
<title>Pixel Stock Admin</title>

<style>
body{
    font-family: Arial;
    background:#0f172a;
    color:white;
    text-align:center;
}

input, textarea{
    padding:10px;
    width:260px;
    margin:8px;
    border-radius:8px;
    border:none;
}

button{
    padding:10px 18px;
    margin:5px;
    background:#38bdf8;
    border:none;
    border-radius:8px;
    font-weight:bold;
    cursor:pointer;
}

.gallery{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
    gap:15px;
    padding:20px;
}

.card{
    background:#1e293b;
    border-radius:12px;
    padding:10px;
}

.card img{
    width:100%;
    height:150px;
    object-fit:cover;
    border-radius:10px;
}

.delete{
    background:red;
    color:white;
}
</style>
</head>

<body>

<h1>Admin Panel</h1>

<input type="file" id="imageInput"><br>
<input type="text" id="title" placeholder="Image Name"><br>
<textarea id="desc" placeholder="Description"></textarea><br>

<button onclick="uploadImage()">Upload Image</button>

<h2>Uploaded Images</h2>
<div class="gallery" id="adminGallery"></div>

<script>

function getImages(){
    return JSON.parse(localStorage.getItem("images")) || [];
}

function saveImages(images){
    localStorage.setItem("images", JSON.stringify(images));
}

function uploadImage(){

    let file = document.getElementById("imageInput").files[0];
    let title = document.getElementById("title").value;
    let desc = document.getElementById("desc").value;

    if(!file || !title){
        alert("Select image and title");
        return;
    }

    let reader = new FileReader();

    reader.onload = function(){

        let images = getImages();

        images.push({
            id: Date.now(), // unique id
            image: reader.result,
            title: title,
            desc: desc
        });

        saveImages(images);
        loadImages();
        alert("Uploaded Successfully");
    }

    reader.readAsDataURL(file);
}

function deleteImage(id){

    let images = getImages();
    images = images.filter(img => img.id !== id);

    saveImages(images);
    loadImages();
}

function loadImages(){

    let gallery = document.getElementById("adminGallery");
    gallery.innerHTML = "";

    let images = getImages();

    images.forEach(img => {

        let card = document.createElement("div");
        card.className = "card";

        card.innerHTML = `
        <img src="${img.image}">
        <h3>${img.title}</h3>
        <p>${img.desc}</p>
        <button class="delete" onclick="deleteImage(${img.id})">Delete</button>
        `;

        gallery.appendChild(card);
    });
}

loadImages();

</script>

</body>
</html>
